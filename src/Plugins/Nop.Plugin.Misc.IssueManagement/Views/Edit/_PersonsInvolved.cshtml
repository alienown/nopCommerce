@using Nop.Plugin.Misc.IssueManagement.Models
@using Nop.Web.Framework.Models.DataTables
@using Nop.Plugin.Misc.IssueManagement.Domain

@model IssuePersonInvolvedSearchModel

@{
    var gridModel = new DataTablesModel
    {
        Name = "persons-involved-grid",
        UrlRead = new DataUrl("IssuePersonInvolvedList", "Issue", null),
        Length = Model.PageSize,
        LengthMenu = Model.AvailablePageSizes,
    };
    gridModel.ColumnCollection.Add(new ColumnProperty(nameof(IssuePersonInvolvedGridItem.Name))
    {
        Title = T("Plugins.Misc.IssueManagement.Edit.PersonsInvolvedPanel.Grid.Columns.Name").Text,
    });
    gridModel.ColumnCollection.Add(new ColumnProperty(nameof(IssuePersonInvolvedGridItem.Email))
    {
        Title = T("Plugins.Misc.IssueManagement.Edit.PersonsInvolvedPanel.Grid.Columns.Email").Text,
    });
    gridModel.ColumnCollection.Add(new ColumnProperty(nameof(IssueGridItemModel.Id))
    {
        Title = T("Admin.Common.Delete").Text,
        ClassName = NopColumnClassDefaults.Button,
        Render = new RenderButtonRemove(T("Admin.Common.Delete").Text),
        Width = "100"
    });
}

<div class="panel-body">
    @await Html.PartialAsync("Table", gridModel)
</div>